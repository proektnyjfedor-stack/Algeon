# üî• –ü–û–õ–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê FIREBASE –î–õ–Ø MATHPILOT

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏ –ª–æ–≥–∏–∫–∏.

---

## üìã –ü–†–ï–î–í–ê–†–ò–¢–ï–õ–¨–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

- Google –∞–∫–∫–∞—É–Ω—Ç
- Flutter SDK —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- Node.js –∏ npm —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (–¥–ª—è Firebase CLI)
- Xcode (–¥–ª—è iOS) / Android Studio (–¥–ª—è Android)

---

## –ß–ê–°–¢–¨ 1: –°–û–ó–î–ê–ù–ò–ï –ü–†–û–ï–ö–¢–ê –í FIREBASE CONSOLE

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç Firebase

1. –û—Ç–∫—Ä–æ–π https://console.firebase.google.com
2. –ù–∞–∂–º–∏ **"–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç"** (Add project)
3. –í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ: **`mathpilot`** (–º–æ–∂–Ω–æ —Å –¥–µ—Ñ–∏—Å–æ–º: `math-pilot`)
4. –ù–∞–∂–º–∏ **"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"**

5. **Google Analytics**:
   - –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: **–æ—Ç–∫–ª—é—á–∏** (—Å–Ω—è—Ç—å –≥–∞–ª–æ—á–∫—É)
   - –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞: **–≤–∫–ª—é—á–∏** (–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É)
   - –ù–∞–∂–º–∏ **"–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç"**

6. –î–æ–∂–¥–∏—Å—å —Å–æ–∑–¥–∞–Ω–∏—è (20-30 —Å–µ–∫—É–Ω–¥)
7. –ù–∞–∂–º–∏ **"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"**

‚úÖ –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω! ID –ø—Ä–æ–µ–∫—Ç–∞ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–∏–º: `mathpilot-a1b2c` (Firebase –¥–æ–±–∞–≤–∏—Ç —Ä–∞–Ω–¥–æ–º–Ω—ã–π —Å—É—Ñ—Ñ–∏–∫—Å)

---

## –ß–ê–°–¢–¨ 2: –ù–ê–°–¢–†–û–ô–ö–ê –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò

### –®–∞–≥ 2: –í–∫–ª—é—á–∏ –º–µ—Ç–æ–¥—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

1. –í Firebase Console —Å–ª–µ–≤–∞ –æ—Ç–∫—Ä–æ–π: **Authentication**
2. –ù–∞–∂–º–∏ **"–ù–∞—á–∞—Ç—å"** (Get started)
3. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Sign-in method"**

#### 2.1 –í–∫–ª—é—á–∏ Email/Password

- –ù–∞–∂–º–∏ –Ω–∞ **"Email/Password"**
- –ü–µ—Ä–µ–∫–ª—é—á–∏ —Ç—É–º–±–ª–µ—Ä –≤ **"–í–∫–ª—é—á–µ–Ω–æ"**
- *(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)* **Email link** –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –≤—ã–∫–ª—é—á–µ–Ω–Ω—ã–º
- –ù–∞–∂–º–∏ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

#### 2.2 –í–∫–ª—é—á–∏ Google Sign-In

- –ù–∞–∂–º–∏ –Ω–∞ **"Google"**
- –ü–µ—Ä–µ–∫–ª—é—á–∏ —Ç—É–º–±–ª–µ—Ä –≤ **"–í–∫–ª—é—á–µ–Ω–æ"**
- **Project support email**: –≤—ã–±–µ—Ä–∏ —Å–≤–æ–π Gmail
- –ù–∞–∂–º–∏ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

**–í–ê–ñ–ù–û:** –ó–∞–ø–æ–º–Ω–∏ **Web client ID** ‚Äî –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è!

#### 2.3 –í–∫–ª—é—á–∏ Apple Sign-In (–¥–ª—è iOS)

- –ù–∞–∂–º–∏ –Ω–∞ **"Apple"**
- –ü–µ—Ä–µ–∫–ª—é—á–∏ —Ç—É–º–±–ª–µ—Ä –≤ **"–í–∫–ª—é—á–µ–Ω–æ"**
- –ù–∞–∂–º–∏ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è Apple:**
- Apple Developer Account ($99/–≥–æ–¥)
- Bundle ID: `com.mathpilot.app` (–∏–ª–∏ —Ç–≤–æ–π)

*(–ù–∞—Å—Ç—Ä–æ–π–∫—É Apple Developer Console –æ–ø–∏—à—É –≤ –ß–∞—Å—Ç–∏ 5)*

#### 2.4 –í–∫–ª—é—á–∏ Phone Authentication

- –ù–∞–∂–º–∏ –Ω–∞ **"Phone"**
- –ü–µ—Ä–µ–∫–ª—é—á–∏ —Ç—É–º–±–ª–µ—Ä –≤ **"–í–∫–ª—é—á–µ–Ω–æ"**
- –ù–∞–∂–º–∏ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Phone auth —Ç—Ä–µ–±—É–µ—Ç reCAPTCHA –¥–ª—è Web, –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

---

## –ß–ê–°–¢–¨ 3: –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø –ü–†–ò–õ–û–ñ–ï–ù–ò–ô –í FIREBASE

### –®–∞–≥ 3.1: –î–æ–±–∞–≤—å Web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ Firebase Console –Ω–∞–∂–º–∏ **–∏–∫–æ–Ω–∫—É `</>`** (Web)
2. –í–≤–µ–¥–∏ –∏–º—è: **`MathPilot Web`**
3. ‚úÖ **–í–∫–ª—é—á–∏** "Also set up Firebase Hosting" (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –ø–æ–ª–µ–∑–Ω–æ)
4. –ù–∞–∂–º–∏ **"–†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**

5. –°–∫–æ–ø–∏—Ä—É–π **Firebase Config** (–±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫):

```javascript
const firebaseConfig = {
  apiKey: "AIzaSyC1234567890abcdefghijklmnop",
  authDomain: "mathpilot-a1b2c.firebaseapp.com",
  projectId: "mathpilot-a1b2c",
  storageBucket: "mathpilot-a1b2c.firebasestorage.app",
  messagingSenderId: "123456789012",
  appId: "1:123456789012:web:abcdef1234567890"
};
```

6. –ù–∞–∂–º–∏ **"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å"**

---

### –®–∞–≥ 3.2: –î–æ–±–∞–≤—å iOS-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ Firebase Console –Ω–∞–∂–º–∏ **–∏–∫–æ–Ω–∫—É iOS (üçé)**
2. **iOS bundle ID**: `com.mathpilot.app` (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å Xcode!)
3. **App nickname**: `MathPilot iOS` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. **App Store ID**: –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º (–∑–∞–ø–æ–ª–Ω–∏—à—å –ø–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)
5. –ù–∞–∂–º–∏ **"–†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**

6. **–°–∫–∞—á–∞–π `GoogleService-Info.plist`**
7. –ù–∞–∂–º–∏ **"–î–∞–ª–µ–µ"** ‚Üí **"–î–∞–ª–µ–µ"** ‚Üí **"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å"**

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–∞–π–ª–∞ (–¥–µ–ª–∞–π —ç—Ç–æ –ø–æ–∑–∂–µ –≤ Xcode):**
- –û—Ç–∫—Ä–æ–π `ios/Runner.xcworkspace` –≤ Xcode
- –ü–µ—Ä–µ—Ç–∞—â–∏ `GoogleService-Info.plist` –≤ –ø–∞–ø–∫—É `Runner/Runner/`
- ‚úÖ –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤—ã–±—Ä–∞–Ω–æ **"Copy items if needed"**
- ‚úÖ –£–±–µ–¥–∏—Å—å —á—Ç–æ Target = **Runner**

---

### –®–∞–≥ 3.3: –î–æ–±–∞–≤—å Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ Firebase Console –Ω–∞–∂–º–∏ **–∏–∫–æ–Ω–∫—É Android (ü§ñ)**
2. **Android package name**: `com.mathpilot.app`
3. **App nickname**: `MathPilot Android` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. **Debug signing certificate SHA-1**: –ø–æ–ª—É—á–∏–º –≤ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ
5. –ü–æ–∫–∞ –Ω–∞–∂–º–∏ **"–†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**

6. **–°–∫–∞—á–∞–π `google-services.json`**
7. –ù–∞–∂–º–∏ **"–î–∞–ª–µ–µ"** ‚Üí **"–î–∞–ª–µ–µ"** ‚Üí **"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å"**

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–∞–π–ª–∞:**
```bash
# –ü–æ–ª–æ–∂–∏ —Ñ–∞–π–ª –≤:
# /Users/fedorzironkin/Desktop/L/math_pilot/android/app/google-services.json
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ SHA-1 –¥–ª—è Google Sign-In:**
```bash
cd ~/Desktop/L/math_pilot/android
./gradlew signingReport
```

**–°–∫–æ–ø–∏—Ä—É–π SHA-1** (–±—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫: `1A:2B:3C:...`)

**–î–æ–±–∞–≤—å SHA-1 –≤ Firebase:**
- Firebase Console ‚Üí ‚öôÔ∏è Settings ‚Üí Project settings
- –í–∫–ª–∞–¥–∫–∞ **"–í–∞—à–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"** ‚Üí Android app
- –ù–∞–∂–º–∏ **"–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø–µ—á–∞—Ç–æ–∫"**
- –í—Å—Ç–∞–≤—å SHA-1 ‚Üí **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

---

## –ß–ê–°–¢–¨ 4: –£–°–¢–ê–ù–û–í–ö–ê FIREBASE CLI –ò FLUTTERFIRE

### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∏ Firebase Tools

#### 4.1 –£—Å—Ç–∞–Ω–æ–≤–∏ Firebase CLI

```bash
# –ß–µ—Ä–µ–∑ npm:
npm install -g firebase-tools

# –ò–ª–∏ —á–µ—Ä–µ–∑ Homebrew (macOS):
brew install firebase-cli
```

–ü—Ä–æ–≤–µ—Ä—å —É—Å—Ç–∞–Ω–æ–≤–∫—É:
```bash
firebase --version
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é, –Ω–∞–ø—Ä–∏–º–µ—Ä: 13.0.2
```

#### 4.2 –í–æ–π–¥–∏ –≤ Firebase

```bash
firebase login
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä ‚Üí –í—ã–±–µ—Ä–∏ Google –∞–∫–∫–∞—É–Ω—Ç ‚Üí –†–∞–∑—Ä–µ—à–∏ –¥–æ—Å—Ç—É–ø ‚Üí –í–µ—Ä–Ω–∏—Å—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª.

#### 4.3 –£—Å—Ç–∞–Ω–æ–≤–∏ FlutterFire CLI

```bash
dart pub global activate flutterfire_cli
```

–ü—Ä–æ–≤–µ—Ä—å —É—Å—Ç–∞–Ω–æ–≤–∫—É:
```bash
flutterfire --version
```

**–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞**, –¥–æ–±–∞–≤—å –≤ PATH:
```bash
# –î–ª—è Zsh (macOS default):
echo 'export PATH="$PATH:$HOME/.pub-cache/bin"' >> ~/.zshrc
source ~/.zshrc

# –î–ª—è Bash:
echo 'export PATH="$PATH:$HOME/.pub-cache/bin"' >> ~/.bashrc
source ~/.bashrc
```

---

### –®–∞–≥ 5: –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π `firebase_options.dart`

```bash
cd ~/Desktop/L/math_pilot

flutterfire configure --project=mathpilot-a1b2c
```

*(–ó–∞–º–µ–Ω–∏ `mathpilot-a1b2c` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID –ø—Ä–æ–µ–∫—Ç–∞)*

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:**
1. CLI –ø–æ–∫–∞–∂–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–≤–æ–∏—Ö Firebase –ø—Ä–æ–µ–∫—Ç–æ–≤
2. –í—ã–±–µ—Ä–∏ **`mathpilot-a1b2c`** (—Å—Ç—Ä–µ–ª–∫–∞–º–∏ + Enter)
3. –í—ã–±–µ—Ä–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: **iOS, Android, Web** (–ø—Ä–æ–±–µ–ª–æ–º, –∑–∞—Ç–µ–º Enter)
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç—Å—è —Ñ–∞–π–ª `lib/firebase_options.dart`

‚úÖ –§–∞–π–ª –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Å—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º!

---

## –ß–ê–°–¢–¨ 5: –û–ë–ù–û–í–õ–ï–ù–ò–ï –ö–û–î–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø

### –®–∞–≥ 6: –û–±–Ω–æ–≤–∏ `main.dart`

**–û—Ç–∫—Ä–æ–π:** `/Users/fedorzironkin/Desktop/L/math_pilot/lib/main.dart`

**–ó–∞–º–µ–Ω–∏ —Å–µ–∫—Ü–∏—é Firebase init:**

```dart
// –ë–´–õ–û (—Å—Ç–∞—Ä—ã–π –∫–æ–¥ —Å TODO):
await Firebase.initializeApp(
  options: const FirebaseOptions(
    apiKey: 'YOUR_API_KEY', // ‚ùå –£–¥–∞–ª–∏ —ç—Ç–æ
    appId: 'YOUR_APP_ID',
    // ...
  ),
);

// –°–¢–ê–õ–û (–Ω–æ–≤—ã–π –∫–æ–¥):
import 'firebase_options.dart'; // –î–æ–±–∞–≤—å —ç—Ç–æ—Ç import!

await Firebase.initializeApp(
  options: DefaultFirebaseOptions.currentPlatform,
);
```

**–ü–æ–ª–Ω—ã–π `main.dart` –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

```dart
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:firebase_core/firebase_core.dart';
import 'firebase_options.dart'; // ‚Üê –ù–æ–≤—ã–π import

import 'theme/app_theme.dart';
import 'services/progress_service.dart';
import 'services/auth_service.dart';
import 'services/achievements_service.dart';
import 'screens/auth_screen.dart';
import 'screens/main_screen.dart';

void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  SystemChrome.setSystemUIOverlayStyle(
    const SystemUiOverlayStyle(
      statusBarColor: Colors.transparent,
      statusBarIconBrightness: Brightness.dark,
    ),
  );
  
  // ‚úÖ –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Firebase
  await Firebase.initializeApp(
    options: DefaultFirebaseOptions.currentPlatform,
  );
  
  await ProgressService.init();
  await AuthService.init();
  await AchievementsService.init();
  
  runApp(const MathPilotApp());
}

// ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

---

## –ß–ê–°–¢–¨ 6: –ù–ê–°–¢–†–û–ô–ö–ê GOOGLE SIGN-IN

### –®–∞–≥ 7.1: Web (Chrome)

**–ü–æ–ª—É—á–∏ Web Client ID:**
1. Firebase Console ‚Üí ‚öôÔ∏è Settings ‚Üí Project settings
2. –í–∫–ª–∞–¥–∫–∞ **"General"**
3. –°–µ–∫—Ü–∏—è **"Your apps"** ‚Üí Web app
4. –°–∫–æ–ø–∏—Ä—É–π **Web client ID**: `123456789012-abcdefg.apps.googleusercontent.com`

**–û—Ç–∫—Ä–æ–π:** `/Users/fedorzironkin/Desktop/L/math_pilot/web/index.html`

**–î–æ–±–∞–≤—å –≤ `<head>`:**
```html
<meta name="google-signin-client_id" content="123456789012-abcdefg.apps.googleusercontent.com">
```

---

### –®–∞–≥ 7.2: iOS

**–ü–æ–ª—É—á–∏ iOS Client ID:**
1. –û—Ç–∫—Ä–æ–π —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª `GoogleService-Info.plist`
2. –ù–∞–π–¥–∏ –∫–ª—é—á `CLIENT_ID` (–±—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ: `123456789012-xyz.apps.googleusercontent.com`)
3. –°–∫–æ–ø–∏—Ä—É–π –∑–Ω–∞—á–µ–Ω–∏–µ **–≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ** (URL scheme):
   - –ë—ã–ª–æ: `123456789012-xyz.apps.googleusercontent.com`
   - –°—Ç–∞–ª–æ: `com.googleusercontent.apps.123456789012-xyz`

**–û—Ç–∫—Ä–æ–π:** `/Users/fedorzironkin/Desktop/L/math_pilot/ios/Runner/Info.plist`

**–î–æ–±–∞–≤—å –ø–µ—Ä–µ–¥ `</dict>` –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞:**

```xml
<key>CFBundleURLTypes</key>
<array>
	<dict>
		<key>CFBundleTypeRole</key>
		<string>Editor</string>
		<key>CFBundleURLSchemes</key>
		<array>
			<string>com.googleusercontent.apps.123456789012-xyz</string>
		</array>
	</dict>
</array>

<key>GIDClientID</key>
<string>123456789012-xyz.apps.googleusercontent.com</string>
```

*(–ó–∞–º–µ–Ω–∏ `123456789012-xyz` –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `GoogleService-Info.plist`!)*

---

### –®–∞–≥ 7.3: Android

**Firebase —É–∂–µ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–∏–ª —á–µ—Ä–µ–∑ SHA-1!** –ù–∏—á–µ–≥–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

–ü—Ä–æ—Å—Ç–æ —É–±–µ–¥–∏—Å—å —á—Ç–æ SHA-1 –¥–æ–±–∞–≤–ª–µ–Ω (—Å–º. –ß–∞—Å—Ç—å 3, –®–∞–≥ 3.3).

---

## –ß–ê–°–¢–¨ 7: –ù–ê–°–¢–†–û–ô–ö–ê APPLE SIGN-IN (–¢–û–õ–¨–ö–û iOS)

### –®–∞–≥ 8: Apple Developer Console

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Apple Developer Account ($99/–≥–æ–¥)
- –î–æ—Å—Ç—É–ø –∫ https://developer.apple.com

**8.1 –°–æ–∑–¥–∞–π App ID:**

1. –û—Ç–∫—Ä–æ–π https://developer.apple.com/account/resources/identifiers/list
2. –ù–∞–∂–º–∏ **"+"** ‚Üí **"App IDs"** ‚Üí **"Continue"**
3. –í—ã–±–µ—Ä–∏ **"App"** ‚Üí **"Continue"**
4. **Description**: `MathPilot`
5. **Bundle ID**: `Explicit` ‚Üí `com.mathpilot.app`
6. ‚úÖ –í–∫–ª—é—á–∏ **"Sign In with Apple"** (–≤ —Å–ø–∏—Å–∫–µ Capabilities)
7. –ù–∞–∂–º–∏ **"Continue"** ‚Üí **"Register"**

**8.2 –°–æ–∑–¥–∞–π Service ID (–¥–ª—è Firebase):**

1. –ù–∞–∂–º–∏ **"+"** ‚Üí **"Services IDs"** ‚Üí **"Continue"**
2. **Description**: `MathPilot Sign In`
3. **Identifier**: `com.mathpilot.app.signin` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º!)
4. –ù–∞–∂–º–∏ **"Continue"** ‚Üí **"Register"**

**8.3 –ù–∞—Å—Ç—Ä–æ–π Service ID –¥–ª—è Firebase:**

1. –ù–∞–∂–º–∏ –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π Service ID
2. ‚úÖ –í–∫–ª—é—á–∏ **"Sign In with Apple"**
3. –ù–∞–∂–º–∏ **"Configure"** —Ä—è–¥–æ–º —Å —á–µ–∫–±–æ–∫—Å–æ–º

**8.4 –î–æ–±–∞–≤—å –¥–æ–º–µ–Ω—ã:**

- **Domains and Subdomains**: `mathpilot-a1b2c.firebaseapp.com`  
  *(–ó–∞–º–µ–Ω–∏ –Ω–∞ —Ç–≤–æ–π authDomain –∏–∑ Firebase Config!)*
- **Return URLs**: `https://__/auth/handler`  
  - –î–∞, –∏–º–µ–Ω–Ω–æ `__` (–¥–≤–∞ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è) ‚Äî —ç—Ç–æ Firebase callback

5. –ù–∞–∂–º–∏ **"Next"** ‚Üí **"Done"** ‚Üí **"Continue"** ‚Üí **"Save"**

---

### –®–∞–≥ 9: Xcode ‚Äî –î–æ–±–∞–≤—å Sign In with Apple

1. –û—Ç–∫—Ä–æ–π `ios/Runner.xcworkspace` –≤ Xcode
2. –í—ã–±–µ—Ä–∏ **Runner** (—Å–∏–Ω—è—è –∏–∫–æ–Ω–∫–∞ –≤ –ª–µ–≤–æ–º –º–µ–Ω—é)
3. –í–∫–ª–∞–¥–∫–∞ **"Signing & Capabilities"**
4. –ù–∞–∂–º–∏ **"+ Capability"**
5. –ù–∞–π–¥–∏ –∏ –¥–æ–±–∞–≤—å **"Sign In with Apple"**

‚úÖ –ì–æ—Ç–æ–≤–æ! Capability –¥–æ–±–∞–≤–ª–µ–Ω.

---

## –ß–ê–°–¢–¨ 8: –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê

### –®–∞–≥ 10: –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
cd ~/Desktop/L/math_pilot
flutter pub get
```

---

### –®–∞–≥ 11: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

#### 11.1 Web (Chrome)

```bash
flutter run -d chrome
```

**–ü—Ä–æ–≤–µ—Ä—å:**
- [ ] Email/Password –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Google Sign-In —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ—Ç–∫—Ä–æ–µ—Ç—Å—è popup)
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ

---

#### 11.2 iOS (Simulator –∏–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ)

```bash
# –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤:
flutter devices

# –ó–∞–ø—É—Å–∫ –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ:
flutter run -d "iPhone 15 Pro"

# –ó–∞–ø—É—Å–∫ –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ (–Ω—É–∂–µ–Ω Apple Developer Account):
flutter run -d <device-id>
```

**–ü—Ä–æ–≤–µ—Ä—å:**
- [ ] Email/Password –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Google Sign-In —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Apple Sign-In —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–æ–ª—å–∫–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ!)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Apple Sign-In –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ ‚Äî —Ç–µ—Å—Ç–∏—Ä—É–π –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º iPhone/iPad.

---

#### 11.3 Android (Emulator –∏–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ)

```bash
# –ó–∞–ø—É—Å–∫ —ç–º—É–ª—è—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ Android Studio –∏–ª–∏:
flutter emulators --launch <emulator-id>

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
flutter run -d <android-device>
```

**–ü—Ä–æ–≤–µ—Ä—å:**
- [ ] Email/Password –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Google Sign-In —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Phone Auth —Ä–∞–±–æ—Ç–∞–µ—Ç (—Å SMS –∫–æ–¥–æ–º)

---

## –ß–ê–°–¢–¨ 9: TROUBLESHOOTING

### ‚ùå –û—à–∏–±–∫–∞: "Google Sign-In failed" (Web)

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã Authorized JavaScript origins.

**–†–µ—à–µ–Ω–∏–µ:**
1. Google Cloud Console ‚Üí APIs & Services ‚Üí Credentials
2. –ù–∞–π–¥–∏ OAuth 2.0 Client ID (—Ç–∏–ø Web)
3. –î–æ–±–∞–≤—å –≤ **Authorized JavaScript origins**:
   - `http://localhost`
   - `http://localhost:5000`
4. –î–æ–±–∞–≤—å –≤ **Authorized redirect URIs**:
   - `http://localhost/__/auth/handler`
   - `https://mathpilot-a1b2c.firebaseapp.com/__/auth/handler`

---

### ‚ùå –û—à–∏–±–∫–∞: "Apple Sign-In crashes" (iOS)

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ù–µ –¥–æ–±–∞–≤–ª–µ–Ω Capability –≤ Xcode
2. Service ID –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –¢–µ—Å—Ç–∏—Ä—É–µ—à—å –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ (–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è!)

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å –≤—Å–µ —à–∞–≥–∏ –≤ –ß–∞—Å—Ç–∏ 7
- –¢–µ—Å—Ç–∏—Ä—É–π —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

---

### ‚ùå –û—à–∏–±–∫–∞: "Invalid API key" (–ª—é–±–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞)

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–¥–∞–ª–∏ —Å—Ç–∞—Ä—ã–π —Ñ–∞–π–ª –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π –∑–∞–Ω–æ–≤–æ:
rm lib/firebase_options.dart
flutterfire configure --project=mathpilot-a1b2c
```

---

### ‚ùå –û—à–∏–±–∫–∞: "PlatformException: sign_in_failed" (Android)

**–ü—Ä–∏—á–∏–Ω–∞:** SHA-1 –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ Firebase.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd ~/Desktop/L/math_pilot/android
./gradlew signingReport
```

–°–∫–æ–ø–∏—Ä—É–π SHA-1 ‚Üí Firebase Console ‚Üí Android app ‚Üí Add fingerprint.

---

## –ß–ê–°–¢–¨ 10: PRODUCTION DEPLOYMENT

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –¥–æ–±–∞–≤—å:

#### Web:
```bash
firebase init hosting
firebase deploy
```

#### iOS:
1. Xcode ‚Üí Product ‚Üí Archive
2. Distribute App ‚Üí App Store Connect
3. –ó–∞–ø–æ–ª–Ω–∏ App Store Connect (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –æ–ø–∏—Å–∞–Ω–∏–µ)
4. Submit for Review

#### Android:
```bash
flutter build appbundle
```

1. –û—Ç–∫—Ä–æ–π Google Play Console
2. –ó–∞–≥—Ä—É–∑–∏ `.aab` —Ñ–∞–π–ª –∏–∑ `build/app/outputs/bundle/release/`
3. –ó–∞–ø–æ–ª–Ω–∏ Store Listing
4. Submit for Review

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ì–û–¢–û–í–ù–û–°–¢–ò

- [ ] Firebase –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω
- [ ] Authentication –º–µ—Ç–æ–¥—ã –≤–∫–ª—é—á–µ–Ω—ã (Email, Google, Apple, Phone)
- [ ] Web app –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ + config —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
- [ ] iOS app –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ + GoogleService-Info.plist —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] Android app –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ + google-services.json —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω + SHA-1 –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] FlutterFire CLI —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] `firebase_options.dart` —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
- [ ] `main.dart` –æ–±–Ω–æ–≤–ª—ë–Ω (–Ω–æ–≤—ã–π import + DefaultFirebaseOptions)
- [ ] Google Sign-In –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- [ ] Apple Sign-In –Ω–∞—Å—Ç—Ä–æ–µ–Ω (App ID + Service ID + Xcode Capability)
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

---

## üéâ –ì–û–¢–û–í–û!

–¢–µ–ø–µ—Ä—å Firebase –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –î–æ–±–∞–≤—å Firestore (–¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏)
2. –ù–∞—Å—Ç—Ä–æ–π Cloud Functions (–¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ª–æ–≥–∏–∫–∏)
3. –î–æ–±–∞–≤—å Firebase Analytics (–¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —é–∑–µ—Ä–æ–≤)
4. –ù–∞—Å—Ç—Ä–æ–π Remote Config (–¥–ª—è A/B —Ç–µ—Å—Ç–æ–≤)

---

**–í–æ–ø—Ä–æ—Å—ã?** –ù–∞–ø–∏—à–∏ –º–Ω–µ, –∏ —è –ø–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è! üöÄ
